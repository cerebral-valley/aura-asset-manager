@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap');
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;
  --font-sans-stack: 'Inter', 'SF Pro Display', 'Helvetica Neue', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --font-mono-stack: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --font-grotesk-stack: 'Space Grotesk', 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --font-base: var(--font-mono-stack);
  --financial-font: var(--font-mono-stack);
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

/* Red Theme */
.theme-red {
  --primary: oklch(0.597 0.226 25.331);
  --primary-foreground: oklch(0.992 0.013 17.38);
  --ring: oklch(0.597 0.226 25.331);
  --chart-1: oklch(0.597 0.226 25.331);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar-primary: oklch(0.597 0.226 25.331);
  --sidebar-accent: oklch(0.597 0.226 25.331 / 15%);
  --sidebar-accent-foreground: oklch(0.597 0.226 25.331);
  --sidebar-ring: oklch(0.597 0.226 25.331);
}

.theme-red.dark {
  --primary: oklch(0.704 0.191 22.216);
  --primary-foreground: oklch(0.992 0.013 17.38);
  --ring: oklch(0.597 0.226 25.331);
  --chart-1: oklch(0.704 0.191 22.216);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar-primary: oklch(0.704 0.191 22.216);
  --sidebar-accent: oklch(0.704 0.191 22.216 / 20%);
  --sidebar-accent-foreground: oklch(0.704 0.191 22.216);
  --sidebar-ring: oklch(0.597 0.226 25.331);
}

/* Rose Theme */
.theme-rose {
  --primary: oklch(0.633 0.216 353.634);
  --primary-foreground: oklch(0.985 0.007 356.29);
  --ring: oklch(0.633 0.216 353.634);
  --chart-1: oklch(0.633 0.216 353.634);
  --chart-2: oklch(0.739 0.173 353.634);
  --chart-3: oklch(0.513 0.256 353.634);
  --chart-4: oklch(0.823 0.116 353.634);
  --chart-5: oklch(0.433 0.296 353.634);
  --sidebar-primary: oklch(0.633 0.216 353.634);
  --sidebar-accent: oklch(0.633 0.216 353.634 / 15%);
  --sidebar-accent-foreground: oklch(0.633 0.216 353.634);
  --sidebar-ring: oklch(0.633 0.216 353.634);
}

.theme-rose.dark {
  --primary: oklch(0.713 0.182 357.884);
  --primary-foreground: oklch(0.985 0.007 356.29);
  --ring: oklch(0.633 0.216 353.634);
  --chart-1: oklch(0.713 0.182 357.884);
  --chart-2: oklch(0.819 0.146 357.884);
  --chart-3: oklch(0.593 0.236 357.884);
  --chart-4: oklch(0.903 0.096 357.884);
  --chart-5: oklch(0.513 0.276 357.884);
  --sidebar-primary: oklch(0.713 0.182 357.884);
  --sidebar-accent: oklch(0.713 0.182 357.884 / 20%);
  --sidebar-accent-foreground: oklch(0.713 0.182 357.884);
  --sidebar-ring: oklch(0.633 0.216 353.634);
}

/* Orange Theme */
.theme-orange {
  --primary: oklch(0.68 0.191 70.67);
  --primary-foreground: oklch(0.97 0.013 66.89);
  --ring: oklch(0.68 0.191 70.67);
  --chart-1: oklch(0.68 0.191 70.67);
  --chart-2: oklch(0.76 0.171 70.67);
  --chart-3: oklch(0.58 0.211 70.67);
  --chart-4: oklch(0.84 0.151 70.67);
  --chart-5: oklch(0.48 0.231 70.67);
  --sidebar-primary: oklch(0.68 0.191 70.67);
  --sidebar-accent: oklch(0.68 0.191 70.67 / 15%);
  --sidebar-accent-foreground: oklch(0.68 0.191 70.67);
  --sidebar-ring: oklch(0.68 0.191 70.67);
}

.theme-orange.dark {
  --primary: oklch(0.769 0.188 70.08);
  --primary-foreground: oklch(0.97 0.013 66.89);
  --ring: oklch(0.68 0.191 70.67);
  --chart-1: oklch(0.769 0.188 70.08);
  --chart-2: oklch(0.849 0.168 70.08);
  --chart-3: oklch(0.649 0.208 70.08);
  --chart-4: oklch(0.929 0.148 70.08);
  --chart-5: oklch(0.569 0.228 70.08);
  --sidebar-primary: oklch(0.769 0.188 70.08);
  --sidebar-accent: oklch(0.769 0.188 70.08 / 20%);
  --sidebar-accent-foreground: oklch(0.769 0.188 70.08);
  --sidebar-ring: oklch(0.68 0.191 70.67);
}

/* Green Theme */
.theme-green {
  --foreground: oklch(0.141 0.005 285.823);
  --card-foreground: oklch(0.141 0.005 285.823);
  --popover-foreground: oklch(0.141 0.005 285.823);
  --primary: oklch(0.723 0.219 149.579);
  --primary-foreground: oklch(0.982 0.018 155.826);
  --secondary: oklch(0.967 0.001 286.375);
  --secondary-foreground: oklch(0.21 0.006 285.885);
  --muted: oklch(0.967 0.001 286.375);
  --muted-foreground: oklch(0.552 0.016 285.938);
  --accent: oklch(0.967 0.001 286.375);
  --accent-foreground: oklch(0.21 0.006 285.885);
  --border: oklch(0.92 0.004 286.32);
  --input: oklch(0.92 0.004 286.32);
  --ring: oklch(0.723 0.219 149.579);
  --chart-1: oklch(0.723 0.219 149.579);
  --chart-2: oklch(0.623 0.239 149.579);
  --chart-3: oklch(0.823 0.199 149.579);
  --chart-4: oklch(0.523 0.259 149.579);
  --chart-5: oklch(0.923 0.179 149.579);
  --sidebar-foreground: oklch(0.141 0.005 285.823);
  --sidebar-primary: oklch(0.723 0.219 149.579);
  --sidebar-primary-foreground: oklch(0.982 0.018 155.826);
  --sidebar-accent: oklch(0.723 0.219 149.579 / 15%);
  --sidebar-accent-foreground: oklch(0.723 0.219 149.579);
  --sidebar-border: oklch(0.92 0.004 286.32);
  --sidebar-ring: oklch(0.723 0.219 149.579);
}

.theme-green.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.696 0.17 162.48);
  --primary-foreground: oklch(0.145 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.527 0.154 150.069);
  --chart-1: oklch(0.696 0.17 162.48);
  --chart-2: oklch(0.796 0.15 162.48);
  --chart-3: oklch(0.596 0.19 162.48);
  --chart-4: oklch(0.896 0.13 162.48);
  --chart-5: oklch(0.496 0.21 162.48);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.696 0.17 162.48);
  --sidebar-primary-foreground: oklch(0.145 0 0);
  --sidebar-accent: oklch(0.696 0.17 162.48 / 20%);
  --sidebar-accent-foreground: oklch(0.696 0.17 162.48);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.527 0.154 150.069);
}

/* Blue Theme */
.theme-blue {
  --primary: oklch(0.497 0.213 264.76);
  --primary-foreground: oklch(0.985 0.007 253.72);
  --ring: oklch(0.497 0.213 264.76);
  --chart-1: oklch(0.497 0.213 264.76);
  --chart-2: oklch(0.597 0.193 264.76);
  --chart-3: oklch(0.397 0.233 264.76);
  --chart-4: oklch(0.697 0.173 264.76);
  --chart-5: oklch(0.297 0.253 264.76);
  --sidebar-primary: oklch(0.497 0.213 264.76);
  --sidebar-accent: oklch(0.497 0.213 264.76 / 15%);
  --sidebar-accent-foreground: oklch(0.497 0.213 264.76);
  --sidebar-ring: oklch(0.497 0.213 264.76);
}

.theme-blue.dark {
  --primary: oklch(0.488 0.243 264.376);
  --primary-foreground: oklch(0.985 0.007 253.72);
  --ring: oklch(0.497 0.213 264.76);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.588 0.223 264.376);
  --chart-3: oklch(0.388 0.263 264.376);
  --chart-4: oklch(0.688 0.203 264.376);
  --chart-5: oklch(0.288 0.283 264.376);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-accent: oklch(0.488 0.243 264.376 / 20%);
  --sidebar-accent-foreground: oklch(0.488 0.243 264.376);
  --sidebar-ring: oklch(0.497 0.213 264.76);
}

/* Yellow Theme */
.theme-yellow {
  --primary: oklch(0.824 0.165 85.994);
  --primary-foreground: oklch(0.995 0.006 106.423);
  --ring: oklch(0.824 0.165 85.994);
  --chart-1: oklch(0.824 0.165 85.994);
  --chart-2: oklch(0.724 0.185 85.994);
  --chart-3: oklch(0.924 0.145 85.994);
  --chart-4: oklch(0.624 0.205 85.994);
  --chart-5: oklch(0.524 0.225 85.994);
  --sidebar-primary: oklch(0.824 0.165 85.994);
  --sidebar-accent: oklch(0.824 0.165 85.994 / 15%);
  --sidebar-accent-foreground: oklch(0.824 0.165 85.994);
  --sidebar-ring: oklch(0.824 0.165 85.994);
}

.theme-yellow.dark {
  --primary: oklch(0.828 0.189 84.429);
  --primary-foreground: oklch(0.995 0.006 106.423);
  --ring: oklch(0.824 0.165 85.994);
  --chart-1: oklch(0.828 0.189 84.429);
  --chart-2: oklch(0.728 0.209 84.429);
  --chart-3: oklch(0.928 0.169 84.429);
  --chart-4: oklch(0.628 0.229 84.429);
  --chart-5: oklch(0.528 0.249 84.429);
  --sidebar-primary: oklch(0.828 0.189 84.429);
  --sidebar-accent: oklch(0.828 0.189 84.429 / 20%);
  --sidebar-accent-foreground: oklch(0.828 0.189 84.429);
  --sidebar-ring: oklch(0.824 0.165 85.994);
}

/* Violet Theme */
.theme-violet {
  --primary: oklch(0.514 0.213 308.32);
  --primary-foreground: oklch(0.991 0.007 316.6);
  --ring: oklch(0.514 0.213 308.32);
  --chart-1: oklch(0.514 0.213 308.32);
  --chart-2: oklch(0.614 0.193 308.32);
  --chart-3: oklch(0.414 0.233 308.32);
  --chart-4: oklch(0.714 0.173 308.32);
  --chart-5: oklch(0.314 0.253 308.32);
  --sidebar-primary: oklch(0.514 0.213 308.32);
  --sidebar-accent: oklch(0.514 0.213 308.32 / 15%);
  --sidebar-accent-foreground: oklch(0.514 0.213 308.32);
  --sidebar-ring: oklch(0.514 0.213 308.32);
}

.theme-violet.dark {
  --primary: oklch(0.627 0.265 303.9);
  --primary-foreground: oklch(0.991 0.007 316.6);
  --ring: oklch(0.514 0.213 308.32);
  --chart-1: oklch(0.627 0.265 303.9);
  --chart-2: oklch(0.727 0.245 303.9);
  --chart-3: oklch(0.527 0.285 303.9);
  --chart-4: oklch(0.827 0.225 303.9);
  --chart-5: oklch(0.427 0.305 303.9);
  --sidebar-primary: oklch(0.627 0.265 303.9);
  --sidebar-accent: oklch(0.627 0.265 303.9 / 20%);
  --sidebar-accent-foreground: oklch(0.627 0.265 303.9);
  --sidebar-ring: oklch(0.514 0.213 308.32);
}

/* Magic UI Animations */
@keyframes marquee {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(calc(-100% - var(--gap)));
  }
}

@keyframes marquee-vertical {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(calc(-100% - var(--gap)));
  }
}

@keyframes meteor {
  0% {
    transform: rotate(215deg) translateX(0);
    opacity: 1;
  }
  70% {
    opacity: 1;
  }
  100% {
    transform: rotate(215deg) translateX(-500px);
    opacity: 0;
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-base, var(--financial-font));
    font-variant-numeric: tabular-nums slashed-zero;
    font-feature-settings: 'tnum' 1, 'zero' 1;
  }
}

body[data-font='guardian_mono'] {
  --font-base: var(--font-mono-stack);
  --financial-font: var(--font-mono-stack);
}

body[data-font='sanctuary_sans'] {
  --font-base: var(--font-sans-stack);
  --financial-font: var(--font-sans-stack);
}

body[data-font='serenity_grotesk'] {
  --font-base: var(--font-grotesk-stack);
  --financial-font: var(--font-grotesk-stack);
}

@layer utilities {
  .animate-marquee {
    animation: marquee var(--duration) linear infinite;
  }
  .animate-marquee-vertical {
    animation: marquee-vertical var(--duration) linear infinite;
  }
  .animate-meteor {
    animation: meteor var(--duration) linear infinite;
  }
  
  /* Tabular numbers for consistent width in financial displays */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1;
  }
  
  /* Slashed zeros for better readability in financial numbers */
  .slashed-zero {
    font-family: var(--financial-font);
    font-variant-numeric: slashed-zero;
    font-feature-settings: 'zero' 1;
  }
  
  /* Combined tabular + slashed zeros for dashboard cards */
  .financial-number {
    font-family: var(--financial-font);
    font-variant-numeric: tabular-nums slashed-zero;
    font-feature-settings: 'tnum' 1, 'zero' 1;
  }

  /* Apply slashed zeros to any chart container to ensure SVG labels match other figures */
  .chart-slashed-zero,
  .chart-slashed-zero :is(text, tspan, .recharts-text) {
    font-family: var(--financial-font) !important;
    font-variant-numeric: tabular-nums slashed-zero;
    font-feature-settings: 'tnum' 1, 'zero' 1;
  }
}
